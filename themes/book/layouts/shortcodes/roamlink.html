{{ if gt (len .Params) 0 }}{{ $keys := (split (index .Params 0) "#") }}{{ $tag := "" }}{{ if (gt (len $keys) 1) }}{{ $tag = (replace (replaceRE "[^\\d\\sA-Za-z\u4e00-\u9fa5]" "" (index $keys 1)) " " "-")  | lower }}{{ end }}{{ $key := (index $keys 0) }}{{ $ref := "" }}{{ range .Site.Pages }}{{ if and (and .File.Path (eq (len $ref) 0)) (or (strings.HasSuffix (replace (strings.TrimRight ".md" .File.Path) "\\" "/") $key) (in .Aliases $key)) }}{{ $ref = .RelPermalink }}{{ end }}{{ end }}{{ $ref }}{{ if $tag }}#{{ $tag }}{{ end }}{{ end }}