---
title: "整合Julia和Python的集成环境"
date: 2020-01-08T19:20:35+08:00
draft: true
categories: ["杂记"]
tags: []
---



## 目标

１） 统一利用**Visual Studio Code**作为Julia和Python的ＩＤＥ

２） 统一利用**Jupyter**作为Julia和Python的Notebook

３） 以Julia作为我主要的使用语言，确保能调用Python的库包

<!--more-->

## 第一步 安装Anaconda

> 国内建议到[清华开源镜像](https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/)站根据各自的情况选择下载。
>
> 我选择**Anaconda3-5.3.1-Windows-x86\_64.exe**，同时提供了**Visual Studio Code**和**Jupyter**, 当然同时也是Python3。

A：全程无脑安装，安装过程中选择安装_Visual Studio Code_，不建议安装在系统盘。

B：配置国内镜像\(我依然选择清华开源镜像\)

* 1.打开anaconda prompt，依次输入命令：

```text
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/  
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/  
conda config --set show_channel_urls yes
```

* 2.输入命令检查channels

```text
conda config --show channels
```

C：检验

* １　自行安装一个Python库包，看看速度如何
* 2    自行打开**Visual Studio Code**，写个Hello world的Python程序，看是否运行正常。
* ３　自行打开**Jupyter**,选择Python3新建，随便写点Python代码，看执行是否正常。

## 第二步 安装Julia

> 国内建议到[浙大开源镜像](https://mirrors.zju.edu.cn/julia/releases/)站根据各自的情况选择下载。 由于我计划使用**Visual Studio Code**, 所以我julia-1.3.0-win64.exe即可

A：设置**Julia**库包的安装目录\(默认在系统盘，所以要单独设置\)

```text
 JULIA_DEPOT_PATH=E:\Work\JuliaDepot
```

Ｂ：全程无脑安装，建议用管理员权限安装，不建议安装在系统盘，建议安装完设置默认管理员启动。

Ｃ：启动Julia命令行，[安装国内镜像](https://github.com/sunoru/PkgMirrors.jl/blob/master/README-zh_cn.md)。

```julia
]
pkg> registry add https://mirrors.zju.edu.cn/julia/registries/General.git
pkg> add https://mirrors.zju.edu.cn/julia/PkgMirrors.jl.git#v1.3.0
```

Ｄ：继续在命令行中，选择浙大镜像

```julia
import PkgMirrors
PkgMirrors.availables()  # 列出所有可用的镜像。
PkgMirrors.setmirror("ZJU")  # 设定当前镜像。

]
pkg> update
```

Ｅ：由于GR很难安装成功，所以这里特别讲一下

* 首先试图安装，如果安装正常，忽略后续

```julia
]
pkg> add GR
```

* 如果安装不正常，或时间太长，建议到[GR官网](https://gr-framework.org/downloads/)下载合适的版本，我下载的是gr-0.44.0-Windows-x86\_64.tar.gz。最后解压得到三个文件夹bin， fonts，include， 复制到JULIA\_DEPOT\_PATH\packages\GR\oiZD3\deps\gr中。
* 验证安装成功否，建议重启julia后执行

  ```julia
  using GR
  histogram(randn(10000))
  ```

F：由于FFMPEG可能也很难安装成功，这里也特别讲一下

* 首先试图安装，如果安装正常，忽略后续

```julia
]
pkg> add FFMPEG
```

* 如果安装不正常，或时间太长，建议到[FFMPEG官网](https://ffmpeg.zeranoe.com/builds/)下载合适的Build版本。最后解压又得到一堆文件，复制到JULIA\_DEPOT\_PATHE\packages\FFMPEG\guN1x\deps\ffmpeg中。同时将这个目录添加到系统PATH中。

## 第三步 为Julia配置VSCode

Ａ．第一步已经为Python安装配置好了VSCode, 这里只要启动VSCode, 搜索Julia插件并安装

![](../images/0001.jpg)

Ｂ．打开 文件》首选项》设置，设置Julia命令路径

![](../images/0013.jpg)

![](../images/0014.jpg)

Ｃ． 重启VSCode, 写一个简单的Hello world程序，验证配置是否成功。

## 第四步 为Julia配置Jupyter

Ａ．第一步已经默认为Python安装了Jupyter，这里只要为Julia配置即可。首先在Julia中设置Jupyter的路径，当然要先启动Julia命令行，然后运行

```julia
ENV["JUPYTER"]="D:\\Anaconda3\\Scripts\\jupyter.exe"
```

Ｂ．然后安装IJulia

```julia
]
pkg> add IJulia
```

Ｃ．启动Jupyter Notebook，能看见julia内核就算成功。

![](../images/0004.jpg)

## 第五步 Julia调用Python库包的基础配置

Ａ．进入Julia命令行，首先设置Python的路径

```julia
ENV["PYTHON"] = "D:\\Anaconda3\\python.exe"
```

Ｂ．安装调用Python的基础库

```julia
]
pkg> add Pycall
```

Ｃ．以SymPy作为范例，先安装范例需要的Python库，然后执行相应的代码

```julia
]
pkg> add SymPy　# 安装Python库的对应接口库

using SymPy

@vars x h # 定义符号变量
limit((sin(x+h)-sin(x))/h,h,0) # 求极限
diff(sin(x)) # 求导
```

![](../images/0005.jpg)

## 大功告成





