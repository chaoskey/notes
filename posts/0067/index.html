<!DOCTYPE html>
<html lang="cn">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="通过实例掌握流编辑器sed"><meta property="og:title" content="通过实例掌握流编辑器sed" />
<meta property="og:description" content="缘由
由于Hugo对Markdown的解析和LaTeX存在诸多冲突。比如：当LaTex中出现\\、\{、\}之类的东西，Hugo就无法正常解析数学公式。
解决方案之一就是用Hugo的shortcodes机制，在md文件中用形如{{&lt; katex [display] &gt;}}latex code{{&lt; /katex &gt;}}格式。
这样一来，网站显示正常了，但在本地Typora就无法识别了。 个人体验不好。
于是我想到用流编编器sed对md内容进行替换。 我以前用sed都是简单的情况，复杂需求我就不会用了。 于是有了此文。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chaoskey.gitee.io/notes/posts/0067/" />
<meta property="article:published_time" content="2020-01-08T19:20:35+08:00" />
<meta property="article:modified_time" content="2020-01-08T19:20:35+08:00" />
<title>通过实例掌握流编辑器sed | 学习笔记</title>
<link rel="icon" href="/notes/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/notes/book.min.3a0afab795624b6557eb098eddc1c880180827e07fdb828f747c01148048289e.css" integrity="sha256-Ogr6t5ViS2VX6wmO3cHIgBgIJ&#43;B/24KPdHwBFIBIKJ4=">


<script defer src="/notes/cn.search.min.d1c6aa77add781ac6d33c28dc2572e4eda52fc8fd7f5a629c4ac0c43eaf39ed2.js" integrity="sha256-0caqd63XgaxtM8KNwlcuTtpS/I/X9aYpxKwMQ&#43;rzntI="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/notes"><img src="/notes/logo.png" alt="Logo" /><span>学习笔记</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="搜索" aria-label="搜索" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>









  












<ul>
<li><a href="/notes/posts/"><strong>站点维护记录</strong></a></li>
<li><a href="/notes/docs/fem/"><strong>有限元法自动求解微分方程</strong></a></li>
<li><a href="/notes/docs/julia/"><strong>基于Julia科学计算</strong></a></li>
<li><a href="/notes/docs/theophy/"><strong>理论物理学习笔记</strong></a></li>
<li><a href="/notes/docs/diffgeo/"><strong>微分几何笔记</strong></a></li>
<li><a href="/notes/docs/mlapp/"><strong>机器学习：概率视角</strong></a></li>
<li><a href="/notes/docs/apm/"><strong>主动投资组合管理</strong></a></li>
</ul>




<hr>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>分类</strong>
      <ul>
      
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>
          <span>50</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/">科学计算</a>
          <span>41</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E5%BE%AE%E5%88%86%E5%87%A0%E4%BD%95/">微分几何</a>
          <span>25</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E7%90%86%E8%AE%BA%E7%89%A9%E7%90%86/">理论物理</a>
          <span>9</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E9%87%8F%E5%8C%96%E6%8A%95%E8%B5%84/">量化投资</a>
          <span>9</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E7%BB%B4%E6%8A%A4/">维护</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E6%9D%82%E8%AE%B0/">杂记</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/%E6%9C%89%E9%99%90%E5%85%83%E6%B3%95/">有限元法</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/categories/julia/">julia</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>标签</strong>
      <ul>
      
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9C%89%E9%99%90%E5%85%83%E6%B3%95/">有限元法</a>
          <span>34</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/FEniCS/">FEniCS</a>
          <span>32</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%81%8F%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/">偏微分方程</a>
          <span>31</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B5%81%E5%BD%A2/">流形</a>
          <span>25</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/julia/">julia</a>
          <span>17</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF/">贝叶斯</a>
          <span>11</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AF%B9%E7%A7%B0%E6%80%A7/">对称性</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8A%95%E8%B5%84/">投资</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9D%8E%E4%BB%A3%E6%95%B0/">李代数</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/">线性回归</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%90%8E%E9%AA%8C/">后验</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%97%8B%E9%87%8F/">旋量</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%A3%8E%E9%99%A9/">风险</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%85%88%E9%AA%8C/">先验</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9D%8E%E7%BE%A4/">李群</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AF%BC%E6%95%B0%E7%AE%97%E7%AC%A6/">导数算符</a>
          <span>5</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%88%86%E5%B8%83/">分布</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8B%9F%E7%84%B6/">拟然</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%A2%84%E6%B5%8B/">预测</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97/">数值计算</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/">微分方程</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/">监督学习</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/Casimir%E7%AE%97%E7%AC%A6/">Casimir算符</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%9D%87%E5%80%BC/">均值</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/hugo/">hugo</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%85%8B%E6%B0%8F%E7%AC%A6/">克氏符</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BE%AE%E5%88%86%E5%BD%A2%E5%BC%8F/">微分形式</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9B%B2%E7%8E%87/">曲率</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%82%96%E8%AE%BA/">悖论</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%B2%AD%E5%9B%9E%E5%BD%92/">岭回归</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/killing/">killing</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BF%A1%E6%81%AF%E7%8E%87/">信息率</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%96%B9%E5%B7%AE/">方差</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%B0%E8%AE%A1%E5%99%A8/">估计器</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/latex/">latex</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/python/">python</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%96%B9%E5%90%91%E5%AF%BC%E6%95%B0/">方向导数</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B3%8A%E6%9D%BE/">泊松</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B9%A0%E9%A2%98/">习题</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%A0%81%E4%BA%91/">码云</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%A2%91%E7%8E%87%E6%B4%BE/">频率派</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/typora/">typora</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AE%9A%E4%BB%B7/">定价</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%95%88%E7%94%A8/">效用</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B5%8B%E5%9C%B0%E7%BA%BF/">测地线</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A5%97%E5%88%A9/">套利</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%9C%BA%E8%AE%BA/">场论</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%88%86%E7%B1%BB/">分类</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%BB%E5%8A%A8%E7%AE%A1%E7%90%86/">主动管理</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BD%93%E5%85%83/">体元</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9/">模型选择</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%BE%9B%E6%B5%81%E5%BD%A2/">辛流形</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%AE%8B%E5%B7%AE/">残差</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A8%A1%E5%9E%8B/">模型</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4/">置信区间</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/sympy/">sympy</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/jupyter/">jupyter</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%AD%A3%E5%88%99%E5%8C%96/">正则化</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BC%A0%E9%87%8F/">张量</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/markdown/">markdown</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8B%9F%E5%90%88/">拟合</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/">无监督学习</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%9B%9E%E5%BD%92/">回归</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%93%88%E5%AF%86%E9%A1%BF/">哈密顿</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0/">损失函数</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%BB%9F%E8%AE%A1/">统计</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8A%80%E5%B7%A7/">技巧</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A4%B4%E5%AF%B8/">头寸</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%86%B3%E7%AD%96%E8%A7%84%E5%88%99/">决策规则</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BA%92%E4%BF%A1%E6%81%AF/">互信息</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/Delaunay/">Delaunay</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%B5%8C%E5%85%A5/">嵌入</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98/">最小二乘</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/">微积分</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%89%E8%A7%92%E5%89%96%E5%88%86/">三角剖分</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%9F%BA%E5%87%BD%E6%95%B0/">基函数</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%BE%9B%E7%BE%A4/">辛群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A6%82%E5%BF%B5%E5%AD%A6%E4%B9%A0/">概念学习</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/vscode/">vscode</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/p%E5%80%BC/">p值</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%AD%A3%E4%BA%A4%E7%BE%A4/">正交群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9D%8E%E5%AF%BC%E6%95%B0/">李导数</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8B%89%E5%9B%9E%E6%98%A0%E5%B0%84/">拉回映射</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%B6%85%E5%8F%82%E6%95%B0/">超参数</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%AF%B1%E5%AF%BC%E5%BA%A6%E8%A7%84/">诱导度规</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F/">随机变量</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BB%B6%E6%8B%93/">延拓</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8D%8F%E6%96%B9%E5%B7%AE/">协方差</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%BB%8E%E6%9B%BC%E6%9B%B2%E7%8E%87/">黎曼曲率</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%89%9B%E9%A1%BF%E6%B5%81%E4%BD%93/">牛顿流体</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8E%9A%E5%B0%BE/">厚尾</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%87%AA%E4%B8%BE/">自举</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81/">交叉验证</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%85%89%E7%BE%A4/">酉群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%87%87%E6%A0%B7%E5%88%86%E5%B8%83/">采样分布</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%9F%A2%E9%87%8F%E5%9C%BA/">矢量场</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/">强化学习</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%B0%E5%80%BC/">估值</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A4%9A%E5%9B%A0%E5%AD%90/">多因子</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AD%90%E6%B5%81%E5%BD%A2/">子流形</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8F%98%E6%8D%A2%E7%BE%A4/">变换群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%BB%B4%E5%BA%A6%E8%AF%85%E5%92%92/">维度诅咒</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8C%87%E6%95%B0%E6%98%A0%E5%B0%84/">指数映射</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%88%86%E7%B1%BB%E5%99%A8/">分类器</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%81%8F%E5%B7%AE/">偏差</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9C%80%E8%BF%91%E9%82%BB/">最近邻</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%9D%90%E6%A0%87%E5%8F%98%E6%8D%A2/">坐标变换</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AE%9A%E5%90%91/">定向</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/noether/">noether</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%9A%E7%BB%A9%E5%9F%BA%E5%87%86/">业绩基准</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5/">拉格朗日</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%AD%E6%80%A7/">中性</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%AD%A3%E5%88%99%E5%8F%98%E6%8D%A2/">正则变换</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%AF%E5%8A%AA%E5%88%A9/">伯努利</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%81%9A%E7%B1%BB/">聚类</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/scipy/">scipy</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%9F%A5%E4%B9%8E/">知乎</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/capm/">capm</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%BF%87%E6%8B%9F%E5%90%88/">过拟合</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B4%9B%E4%BC%A6%E5%85%B9%E7%BE%A4/">洛伦兹群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9D%8E%E6%8B%AC%E5%8F%B7/">李括号</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%8B%AC%E7%AB%8B%E6%80%A7/">独立性</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%81%94%E5%90%88%E6%A6%82%E7%8E%87/">联合概率</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%97%E6%95%B0/">众数</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%B9%B3%E7%A7%BB/">平移</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%AC%A6%E5%8F%B7%E6%BC%94%E7%AE%97/">符号演算</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8A%9B%E5%AD%A6/">力学</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%99%8D%E7%BB%B4/">降维 </a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9C%89%E9%99%90%E5%B7%AE%E5%88%86/">有限差分</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A4%A7%E6%A0%B7%E6%9C%AC/">大样本</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%81%8F%E5%A5%BD/">偏好</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%B8%82%E5%9C%BA%E7%BB%84%E5%90%88/">市场组合</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%BE%B9%E9%99%85%E6%8B%9F%E7%84%B6/">边际拟然</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AE%88%E6%81%92%E5%BE%8B/">守恒律</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/sed/">sed</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%85%B8%E5%9E%8B%E7%BE%A4/">典型群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/Galerkin/">Galerkin</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8F%82%E6%95%B0%E6%A8%A1%E5%9E%8B/">参数模型</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%80%A7/">不确定性</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8F%8D%E7%A7%B0%E5%BA%A6%E8%A7%84/">反称度规</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A4%87%E5%BF%98/">备忘</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%B8%80%E8%87%B4%E9%A2%84%E6%9C%9F/">一致预期</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%9B%B8%E5%85%B3%E6%80%A7/">相关性</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%B0%E8%AE%A1/">估计</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A5%A5%E5%8D%A1%E5%A7%86%E5%89%83%E5%88%80/">奥卡姆剃刀</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%B0%E8%AE%A1%E9%87%8F/">估计量</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%87%AA%E7%94%B1%E5%9C%BA/">自由场</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BE%AE%E5%88%86%E5%90%8C%E8%83%9A/">微分同胚</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/Stokes%E5%AE%9A%E7%90%86/">Stokes定理</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%AF%B9%E6%98%93%E5%AD%90/">对易子</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B3%95%E4%BD%99%E7%9F%A2/">法余矢</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8A%95%E5%BD%B1%E6%98%A0%E5%B0%84/">投影映射</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%A4%96%E5%BE%AE%E5%88%86/">外微分</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A0%87%E5%87%86%E5%B7%AE/">标准差</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%BA%9E%E5%8A%A0%E8%8E%B1%E7%BE%A4/">庞加莱群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%BD%E5%88%A9%E7%95%A5/">伽利略</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%B4%9D%E5%A1%94/">贝塔</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E4%BC%BC%E7%84%B6/">似然</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%B6%85%E6%9B%B2%E9%9D%A2/">超曲面</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/">科学计算</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B5%81%E4%BD%93%E5%8A%9B%E5%AD%A6/">流体力学</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%87%8F%E5%AD%90%E5%9C%BA%E8%AE%BA/">量子场论</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8A%95%E8%B5%84%E7%BB%84%E5%90%88/">投资组合</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/">特征选择</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%AD%89%E5%BA%A6%E8%A7%84%E6%98%A0%E5%B0%84/">等度规映射</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%AD%A3%E5%88%99%E5%9D%90%E6%A0%87/">正则坐标</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%B3%95%E7%9F%A2/">法矢</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8E%A8%E5%89%8D%E6%98%A0%E5%B0%84/">推前映射</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%90%86%E6%80%A7%E8%A1%8C%E4%B8%BA/">理性行为</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%8F%AF%E4%BF%A1%E5%8C%BA%E9%97%B4/">可信区间</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%BE%A4/">群</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/Gauss%E5%AE%9A%E7%90%86/">Gauss定理</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8A%BD%E8%B1%A1%E6%8C%87%E6%A0%87/">抽象指标</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/obsidian/">obsidian</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%80%82%E9%85%8D%E5%9D%90%E6%A0%87%E7%B3%BB/">适配坐标系</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%94%B6%E7%9B%8A/">收益</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%88%86%E4%BD%8D%E6%95%B0/">分位数</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%81%94%E7%BB%9C/">联络</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E8%AF%81%E6%8D%AE/">证据</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%8E%A8%E6%96%AD/">推断</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A6%82%E7%8E%87%E8%AE%BA/">概率论</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E9%98%BF%E5%B0%94%E6%B3%95/">阿尔法</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A5%94%E7%A7%AF/">楔积</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%89%B9%E5%BE%81%E7%9F%A2%E9%87%8F/">特征矢量</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%A8%B3%E5%81%A5%E6%80%A7/">稳健性</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%A0%B9%E7%B3%BB/">根系</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E6%9D%83%E7%B3%BB/">权系</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E7%89%9B%E9%A1%BF%E5%8A%9B%E5%AD%A6/">牛顿力学</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/notes/tags/%E5%87%B8%E6%80%A7/">凸性</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
 









</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/notes/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>通过实例掌握流编辑器sed</strong>

  <label for="toc-control">
    <img src="/notes/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#缘由">缘由</a></li>
        <li><a href="#需求">需求</a></li>
        <li><a href="#我写成的代码后面将逐项解释备忘">我写成的代码（后面将逐项解释，备忘）</a></li>
        <li><a href="#相关sed代码的详细解释备忘">相关SED代码的详细解释(备忘)</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      

<nav class="post-pagination">
  
  <a class="newer-posts" href="https://chaoskey.gitee.io/notes/docs/julia/0001/">
    下一页<br>整合Julia和Python的集成环境（Win10）
  </a>
  
  
  
  <a class="older-posts" href="https://chaoskey.gitee.io/notes/posts/0000/">
      上一页<br>用Hugo&#43;码云搭建支持Markdown&#43;LaTeX的云笔记
  </a>
  
</nav>

<hr>

<article class="markdown">
  <h1>
    <a href="/notes/posts/0067/">通过实例掌握流编辑器sed</a>
  </h1>
  

<div>

  <h5>2020-01-08</h5>


<div>

  
    |
    
      <a href="/notes/categories/%E7%BB%B4%E6%8A%A4">维护</a>
      
    |
  

  
    |
    
      <a href="/notes/tags/sed">sed</a>
      , 
      <a href="/notes/tags/latex">latex</a>
      , 
      <a href="/notes/tags/hugo">hugo</a>
      , 
      <a href="/notes/tags/typora">typora</a>
      
    |
  




    <a href="https://gitee.com/chaoskey/notes/blob/master/content/posts/0067.md#blob-comment" target="_blank" rel="noopener">
      <img src="/notes/svg/edit.svg" class="book-icon" alt="Comment" />
      评论
    </a>


</div>


</div>


  <p><h2 id="缘由">缘由</h2>
<p>由于Hugo对Markdown的解析和LaTeX存在诸多冲突。比如：当LaTex中出现<code>\\</code>、<code>\{</code>、<code>\}</code>之类的东西，Hugo就无法正常解析数学公式。</p>
<p>解决方案之一就是用Hugo的<code>shortcodes</code>机制，在md文件中用形如<code>{{&lt; katex [display] &gt;}}latex code{{&lt; /katex &gt;}}</code>格式。</p>
<p>这样一来，网站显示正常了，但在本地Typora就无法识别了。 个人体验不好。</p>
<p>于是我想到用流编编器<code>sed</code>对md内容进行替换。 我以前用<code>sed</code>都是简单的情况，复杂需求我就不会用了。 于是有了此文。</p>
<h2 id="需求">需求</h2>
<p>利用<code>Hugo</code>发布到站点前：将<code>$latex code$</code>，置换成 <code>{{&lt; katex [display] &gt;}}latex code{{&lt; /katex &gt;}}</code>。</p>
<p>用<code>Typora</code>写作编辑前： 将 <code>{{&lt; katex [display] &gt;}}latex code{{&lt; /katex &gt;}}</code>，置换成 <code>$latex code$</code>。</p>
<p>注意：置换时，同时要跳过<code>代码块</code>不处理。</p>
<h2 id="我写成的代码后面将逐项解释备忘">我写成的代码（后面将逐项解释，备忘）</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># md文件递归</span>
<span style="color:#66d9ef">function</span> action<span style="color:#f92672">(){</span>
    <span style="color:#66d9ef">for</span> file in <span style="color:#e6db74">`</span>ls $1<span style="color:#e6db74">`</span> 
    <span style="color:#66d9ef">do</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -d $1<span style="color:#e6db74">&#34;/&#34;</span>$file <span style="color:#f92672">]</span> 
        <span style="color:#66d9ef">then</span>
            action $1<span style="color:#e6db74">&#34;/&#34;</span>$file
        <span style="color:#66d9ef">elif</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>file#*.<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;md&#34;</span>x <span style="color:#f92672">]</span>
        <span style="color:#66d9ef">then</span>
            <span style="color:#75715e"># 方便发布到gitee</span>
            sed -i <span style="color:#e6db74">&#39;/```/ { :begin1; /```.*```/! { $! { N; b begin1 }; }; n; }; /\$\$/ { :begin2; /\$\$[^$]*\$\$/! { $! { N; b begin2 }; }; }; s/\$\$\(\n[^$]*\n\)\$\$/{{&lt; katex display &gt;}}\1{{&lt; \/katex &gt;}}/g; s/\$\$\([^$]*\)\$\$/{{&lt; katex &gt;}}\1{{&lt; \/katex &gt;}}/g; s/!\[.*\](\.\.\/images\//![](..\/..\/images\//g;&#39;</span>  $1<span style="color:#e6db74">&#34;/&#34;</span>$file
        <span style="color:#66d9ef">fi</span>
    <span style="color:#66d9ef">done</span>
<span style="color:#f92672">}</span> 

action ./content

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span>x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;server&#34;</span>x <span style="color:#f92672">]</span> 
<span style="color:#66d9ef">then</span>
	<span style="color:#75715e"># 站点本地预览</span>
    hugo server --disableFastRender -D
<span style="color:#66d9ef">else</span>
	<span style="color:#75715e"># 站点静态文件生成</span>
    hugo -D
    <span style="color:#75715e"># 文件恢复成Typora可正常阅读状态</span>
    ./fortypora
<span style="color:#66d9ef">fi</span>
</code></pre></div><h2 id="相关sed代码的详细解释备忘">相关SED代码的详细解释(备忘)</h2>
<p>把上面代码中SED部分单独提出来，写成方便阅读的形式，并逐行解释：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 正则识别代码块的开始界定符</span>
/<span style="color:#e6db74">```</span>/ <span style="color:#f92672">{</span>     
	:begin1
	<span style="color:#75715e"># 正则识别完整代码块</span>
	/<span style="color:#e6db74">```</span>.*<span style="color:#e6db74">```</span>/! <span style="color:#f92672">{</span> 
		<span style="color:#75715e"># 没能匹配代码块，则读取下行，附加到“模式空间”</span>
		$! <span style="color:#f92672">{</span> N; b begin1 <span style="color:#f92672">}</span> 
	<span style="color:#f92672">}</span> 
	<span style="color:#75715e"># 成功匹配代码块，则读取下行，清空“模式空间”</span>
	n; 
<span style="color:#f92672">}</span> <span style="color:#75715e"># 上面这段代码目的: 跳过代码块```code```</span>

<span style="color:#75715e"># 正则识别标准数学公式开始界定符</span>
/<span style="color:#ae81ff">\$\$</span>/ <span style="color:#f92672">{</span> 
	:begin2 
	<span style="color:#75715e"># 正则识别完整的数学公式块（界定符）</span>
	/<span style="color:#ae81ff">\$\$</span><span style="color:#f92672">[</span>^$<span style="color:#f92672">]</span>*<span style="color:#ae81ff">\$\$</span>/! <span style="color:#f92672">{</span> 
		<span style="color:#75715e"># 没能数学公式块，则读取下行，附加到“模式空间”</span>
		$! <span style="color:#f92672">{</span> N; b begin2 <span style="color:#f92672">}</span> 
	<span style="color:#f92672">}</span> 
<span style="color:#f92672">}</span> 
<span style="color:#75715e"># 对“（多行）模式空间” 进行置换：块公式的界定符变换</span>
s/<span style="color:#ae81ff">\$\$\(\n</span><span style="color:#f92672">[</span>^$<span style="color:#f92672">]</span>*<span style="color:#ae81ff">\n\)\$\$</span>/<span style="color:#f92672">{{</span>&lt; katex display &gt;<span style="color:#f92672">}}</span><span style="color:#ae81ff">\1</span><span style="color:#f92672">{{</span>&lt; <span style="color:#ae81ff">\/</span>katex &gt;<span style="color:#f92672">}}</span>/g
<span style="color:#75715e"># 对“（多行）模式空间” 进行置换：内联公式的界定符变换</span>
s/<span style="color:#ae81ff">\$\$\(</span><span style="color:#f92672">[</span>^$<span style="color:#f92672">]</span>*<span style="color:#ae81ff">\)\$\$</span>/<span style="color:#f92672">{{</span>&lt; katex &gt;<span style="color:#f92672">}}</span><span style="color:#ae81ff">\1</span><span style="color:#f92672">{{</span>&lt; <span style="color:#ae81ff">\/</span>katex &gt;<span style="color:#f92672">}}</span>/g
<span style="color:#75715e"># 对“（多行）模式空间” 进行置换：顺带进行链接变换</span>
s/!<span style="color:#ae81ff">\[</span>.*<span style="color:#ae81ff">\]</span><span style="color:#f92672">(</span><span style="color:#ae81ff">\.\.\/</span>images<span style="color:#ae81ff">\/</span>/!<span style="color:#f92672">[](</span>..<span style="color:#ae81ff">\/</span>..<span style="color:#ae81ff">\/</span>images<span style="color:#ae81ff">\/</span>/g
</code></pre></div><p>上面的注释已经解释的很清楚了：</p>
<ul>
<li>展示了如何用SED进行多行匹配：先识别开始界定符，然后反复检查代码块的完整性，不完整则逐行添加，完整则继续。</li>
<li>这里只用到了&quot;模式空间&quot;。命令<code>N</code>可将”单行模式空间“扩展成”多行模式空间“；命令<code>n</code>则将”多行模式空间“清空，恢复成”单行模式空间“。</li>
<li>最后通过<code>s/&lt;正则匹配被替换老的部分&gt;/&lt;新的部分&gt;/g</code>，完成置换。</li>
<li>注意： 把多行压缩时需要添加<code>; </code>（注意后面有个空格）。</li>
</ul>
<p>一旦理解这个例子，我想一般的SED就不在话下。</p></p>
</article>

<hr>

<nav class="post-pagination">
  
  <a class="newer-posts" href="https://chaoskey.gitee.io/notes/docs/julia/0001/">
    下一页<br>整合Julia和Python的集成环境（Win10）
  </a>
  
  
  
  <a class="older-posts" href="https://chaoskey.gitee.io/notes/posts/0000/">
      上一页<br>用Hugo&#43;码云搭建支持Markdown&#43;LaTeX的云笔记
  </a>
  
</nav>

 

      <footer class="book-footer">
        
  <div class="flex justify-between">





  <div>
    <a class="flex align-center" href="https://gitee.com/chaoskey/notes/blob/master/content/posts/0067.md#blob-comment" target="_blank" rel="noopener">
      <img src="/notes/svg/edit.svg" class="book-icon" alt="Comment" />
      <span>评论</span>
    </a>
  </div>
  
  
  <div>
    <a class="flex align-center" href="https://gitee.com/-/ide/project/chaoskey/notes/edit/master/-/content/posts/0067.md" target="_blank" rel="noopener">
      <img src="/notes/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>编辑本页</span>
    </a>
  </div>

</div>

 
        
  
  <div class="book-comments">

</div>
  
  
      </footer>
      
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#缘由">缘由</a></li>
        <li><a href="#需求">需求</a></li>
        <li><a href="#我写成的代码后面将逐项解释备忘">我写成的代码（后面将逐项解释，备忘）</a></li>
        <li><a href="#相关sed代码的详细解释备忘">相关SED代码的详细解释(备忘)</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












